# 継続タスク - 英会話アプリ改善プロジェクト

## 🎯 次回優先タスク

### 1. GPT-4oへのモデルアップグレード
```python
# main.py line 52
st.session_state.llm = ChatOpenAI(
    model_name="gpt-4o",  # gpt-4o-miniから変更
    temperature=0.7,
    top_p=0.9,
    frequency_penalty=0.3,
    presence_penalty=0.3
)
```

### 2. Whisper音声認識の精度向上
```python
# functions.py line 49
transcript = st.session_state.openai_obj.audio.transcriptions.create(
    model="whisper-1",
    file=audio_input_file,
    language="en",
    prompt="This is an English conversation practice.",  # コンテキスト追加
    temperature=0.2  # 精度向上のため低温度設定
)
```

### 3. 音声正規化処理の実装
- functions.py の transcribe_audio() に音声正規化を追加
- ノイズ除去とボリューム調整

## 📋 中期的改善タスク

### 4. レベル別パラメータの動的調整
```python
def get_level_config(english_level):
    """レベル別設定を返す関数の実装"""
    configs = {
        "初級者": {"temperature": 0.3, "speaking_speed": 0.8},
        "中級者": {"temperature": 0.5, "speaking_speed": 1.0},
        "上級者": {"temperature": 0.7, "speaking_speed": 1.2}
    }
```

### 5. メモリ管理の最適化
- ConversationBufferWindowMemory の導入
- モード別メモリの分離

### 6. エラーハンドリングの強化
- リトライ機能付き音声認識
- ネットワークエラー対応
- 音声入力タイムアウト処理

## 🚀 新機能の追加

### 7. 学習履歴の保存機能
```python
def save_learning_history(mode, user_input, ai_response, evaluation=None):
    """学習履歴をJSONファイルに保存"""
    # 実装予定
```

### 8. プログレストラッキング
- 精度スコアの計算
- 学習進捗の可視化
- 弱点分析レポート

### 9. パーソナライズ機能
- ユーザーの苦手分野を特定
- カスタマイズされた練習問題
- 個別最適化された学習計画

## 📝 ドキュメント更新

### 10. CLAUDE.md の更新
- 新機能の使用方法を追記
- トラブルシューティングガイド追加

### 11. README.md の充実
- セットアップ手順の詳細化
- 使用例の追加
- FAQ セクション作成

## 🐛 既知の問題

1. **音声入力が5秒で自動終了**
   - より柔軟な終了条件の実装が必要

2. **長い文章でのメモリ制限**
   - max_token_limit=1000 の調整検討

3. **エラー時のユーザーフィードバック不足**
   - より分かりやすいエラーメッセージの実装

## 💡 アイデア・検討事項

- 音声の感情分析機能
- 発音評価機能（音素レベル）
- グループ学習モード
- オフライン対応
- モバイルアプリ化

## 📅 実装スケジュール案

1. **Week 1**: タスク1-3（基本的な精度向上）
2. **Week 2**: タスク4-6（システム最適化）
3. **Week 3**: タスク7-9（新機能追加）
4. **Week 4**: テストとドキュメント整備

---

最終更新: 2025-08-17
次回セッション開始時はこのファイルを参照してください。